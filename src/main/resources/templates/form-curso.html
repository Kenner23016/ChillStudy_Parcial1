<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
  <meta charset="UTF-8">
  <title>Registrar Curso - ChillStudy</title>
  <link rel="icon" href="/favicon.png" type="image/png">

  <!-- Tu hoja de estilos global -->
  <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body>

  <div th:replace="fragmentos/sidebar :: sidebar" th:with="active='curso-nuevo'"></div>
  <div th:replace="fragmentos/logout :: logout-button"></div>


      

  <div class="main">
    <h2 th:text="${curso.id == null ? 'Registrar Curso' : 'Editar Curso'}"></h2>

    <!-- ‚úÖ Mensaje de √©xito o error -->
    <div id="mensaje" th:if="${mensaje}" style="color: green; font-weight: bold; margin-bottom: 15px;">
      <p th:text="${mensaje}"></p>
    </div>
    <div id="mensaje" th:if="${error}" style="color: red; font-weight: bold; margin-bottom: 15px;">
      <p th:text="${error}"></p>
    </div>

    <script>
      setTimeout(() => {
        const mensaje = document.getElementById("mensaje");
        if (mensaje) mensaje.style.display = "none";
      }, 10000);
    </script>

    <!-- üìã Formulario -->
    <form method="post" th:action="@{/cursos/guardar}" th:object="${curso}">
  <input type="hidden" th:field="*{id}"/>

  <label for="nombre">Nombre del Curso:</label>
  <input type="text" id="nombre" th:field="*{nombre}" placeholder="Ej: √Ålgebra Lineal" required/>

  <label for="categoria">Categor√≠a:</label>
  <input type="text" id="categoria" th:field="*{categoria}" placeholder="Ej: Programaci√≥n" required/>

  <label for="dificultad">Nivel de Dificultad:</label>
  <select id="dificultad" th:field="*{dificultad}">
    <option value="" disabled th:selected="${curso.dificultad == null}">Selecciona‚Ä¶</option>
    <option th:each="nivel : ${niveles}"
            th:value="${nivel}"
            th:text="${#strings.capitalize(nivel.name().toLowerCase())}">
    </option>
  </select>

  <button type="submit">Guardar Curso</button>
</form>
  </div>

</body>
</html>
